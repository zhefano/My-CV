<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <!-- Viktigt för mobil med “notch” och rätt vh-beräkning -->
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Noel's Portfolio</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    />

    <script>
      // Apply theme early to undvika FOUC
      (function () {
        const theme =
          localStorage.getItem("theme") ||
          (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");
        document.documentElement.classList.add(theme);
      })();
    </script>

    <script>
      // Dynamic vh-hack: sätter --vh = 1% av innerHeight och uppdaterar på resize
      function setVh() {
        document.documentElement.style.setProperty(
          "--vh",
          `${window.innerHeight * 0.01}px`
        );
      }
      setVh();
      window.addEventListener("resize", setVh);
    </script>

    <!-- Ladda Spline-viewer som module och defer så det inte blockar -->
    <script
      type="module"
      src="https://unpkg.com/@splinetool/viewer@1.9.89/build/spline-viewer.js"
      defer
    ></script>

    <style>
      /* Gör så att hela dokumentet tar dynamisk vh */
      html,
      body {
        height: calc(var(--vh) * 100);
        margin: 0;
        padding: 0;
      }
      /* Root som flex-container */
      #root {
        height: 100%;
        display: flex;
      }
      /* Låt spline-viewer flexa ut */
      spline-viewer {
        flex: 1 1 auto;
        display: block;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <!-- Din React-app mountas här -->
    <script type="module" src="/src/main.jsx" defer></script>
  </body>
</html>